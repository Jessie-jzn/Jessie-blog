---
title: Event Loop 机制
author: Jessie
date: "2024-02-26"
---
>事件循环（Event Loop）是JavaScript运行时环境中的一种机制，用于管理和调度异步任务的执行顺序。

## 原理

- 执行同步任务： 当JavaScript引擎执行到同步任务时，会立即执行，直到任务执行完成。

- 处理异步任务： 当遇到异步任务时，JavaScript引擎不会等待任务执行完成，而是将任务委托给相应的宿主环境（如浏览器或Node.js）来处理。异步任务可以是定时器任务、事件监听器回调函数、Promise的异步操作等。

- 将完成的任务加入任务队列： 当异步任务执行完成后，会被放入相应的任务队列中。如果是微任务（如Promise的then方法注册的回调函数），会被放入微任务队列；如果是宏任务（如setTimeout、事件监听器回调函数等），会被放入宏任务队列。

- 事件循环轮询： JavaScript引擎会不断地从任务队列中取出任务，放入执行栈中执行。这个过程称为事件循环轮询。如果执行栈为空，并且存在微任务队列，那么会优先处理微任务队列中的任务；如果微任务队列为空，则会处理宏任务队列中的任务。

- 重复执行： 事件循环会持续不断地重复上述步骤，直到所有任务都被处理完毕。

通过事件循环机制，JavaScript可以实现异步编程，有效地管理和调度各种任务的执行顺序，确保代码的正确执行和性能的优化。
